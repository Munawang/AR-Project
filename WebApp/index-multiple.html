<html>

<head>
    <title>Geoposition Multiple example</title>
    <meta name="description" content="Hello, World! Geolocation Argon + A-Frame">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="https://rawgit.com/argonjs/argon/develop/dist/argon.js"></script>
    <script src="https://rawgit.com/argonjs/argon-aframe/master/dist/argon-aframe.js"></script>
    <script src="https://samples-develop.argonjs.io/resources/lib/CSS3DArgonRenderer.js"></script>
    <script src="https://samples-develop.argonjs.io/resources/lib/CSS3DArgonHUD.js"></script>
    <script src="../resources/js/aframe-look-at-component.js"></script>
    <link rel="stylesheet" href="../resources/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../resources/style.css">
</head>

<body>
    <script>
        AFRAME.registerComponent('showdistance', {
            schema: {
                default: ""
            },

            init: function() {
                this.text = "";
            },

            update: function() {
                this.text = this.data;
            },

            tick: function(t) {
                var object3D = this.el.object3D;
                var camera = this.el.sceneEl.camera;
                if (!camera) {
                    return;
                }

                var cameraPos = camera.getWorldPosition();
                var thisPos = object3D.getWorldPosition();
                var distance = Math.round(thisPos.distanceTo(cameraPos));

                var cssDiv = this.el.getObject3D('div');
                var msg = this.text + distance + " meters away";
                cssDiv.elements[0].innerHTML = msg;
                cssDiv.elements[1].innerHTML = msg;
            }
        });
    </script>
    <div hidden>
        <div id="gtdiv" class="label">Georgia Tech</div>
        <div id="londondiv" class="label">Tower of London</div>
        <div id="tokyodiv" class="label">Tokyo</div>
        <div id="sydneydiv" class="label">Sydney Opera House</div>

        <div id="londonpin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        <div id="tokyopin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        <div id="sydneypin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>

        <!-- Div ทดสอบพิกัด -->
        <div id="tabchangdiv" class="label">Tabchang station</div>
        <div id="keki01div" class="label">Sumfruit บิงซู ลาดกระบัง</div>
        <div id="keki05div" class="label">Shogun ลาดกระบัง</div>
        <div id="jinda01div" class="label">BKK Grill</div>
        <div id="jinda06div" class="label">Pasta Home (พาสต้าโฮม)</div>
        <div id="fbt01div" class="label">ชาบู ปาร์ตี้ (Shabu party)</div>
        <div id="fbt07div" class="label">ละมุน (Lamoon)</div>
        <div id="schooldiv" class="label">โรงเรียนสุเหร่าทับช้าง</div>

        <!-- pin ทดสอบพิกัด -->
        <div id="tabchangpin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        <div id="keki01pin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        <div id="keki05pin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        <div id="jinda01pin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        <div id="jinda06pin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        <div id="fbt01pin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        <div id="fbt07pin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
        <div id="schoolpin" class="pin"><i class="fa fa-map-marker" aria-hidden="true"></i></div>
    </div>
    <ar-scene>
        <a-assets>
            <img id="buzzpin" src="../resources/textures/buzz-pin.png">
        </a-assets>
        <ar-geopose id="GT" lla="-84.394539 33.772501" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-plane rotation="0 0 0" width="2.9" height="4" src="#buzzpin" transparent="true"></a-plane>
                <a-entity css-object="div: #gtdiv" scale="0.02 0.02 0.02" position="0 4 0" showdistance="Tech Tower @ Georgia Tech<br>Atlanta, GA, USA<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="London" lla="-0.076057 51.507953" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #londonpin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #londondiv" scale="0.02 0.02 0.02" position="0 3 0" showdistance="The Tower of London<br>London, England<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="Sydney" lla="151.215286 -33.856900" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #sydneypin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #sydneydiv" scale="0.02 0.02 0.02" position="0 3 0" showdistance="Sydney Opera House<br>Sydney, Australia<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="Tokyo" lla=" 139.752797 35.685138" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #tokyopin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #tokyodiv" scale="0.02 0.02 0.02" position="0 3 0" showdistance="Imperial Palace<br>Tokyo, Japan<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <!-- ทดสอบใช้พิกัดสถานที่ใกล้เคียง -->
        <ar-geopose id="Tabchang" lla="100.6865316 13.7331092" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #tabchangpin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #tabchangdiv" scale="0.02 0.02 0.02" position="0 3 0" showdistance="Tabchang Station<br>Bangkok Thailand<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="keki01" lla="100.7708011 13.7275256" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #keki01pin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #keki01div" scale="0.02 0.02 0.02" position="0 3 0" showdistance="Sumfruit บิงซู ลาดกระบัง<br>Bangkok Thailand<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="keki05" lla="100.7702708 13.7277267" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #keki05pin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #keki05div" scale="0.02 0.02 0.02" position="0 3 0" showdistance="Shogun ลาดกระบัง<br>Bangkok Thailand<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="jinda01" lla="100.7836547 13.7213184" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #jinda01pin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #jinda01div" scale="0.02 0.02 0.02" position="0 3 0" showdistance="BKK Gril<br>Bangkok Thailand<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="jinda06" lla="100.783517 13.71779" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #jinda06pin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #jinda06div" scale="0.02 0.02 0.02" position="0 3 0" showdistance="Pasta Home <br>Bangkok Thailand<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="fbt01" lla="100.7807354 13.7221422" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #fbt01pin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #fbt01div" scale="0.02 0.02 0.02" position="0 3 0" showdistance="Shabu party <br>Bangkok Thailand<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="fbt07" lla="100.7803574 13.7225579" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #fbt07pin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #fbt07div" scale="0.02 0.02 0.02" position="0 3 0" showdistance="ละมุน (Lamoon)<br>Bangkok Thailand<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>
        <ar-geopose id="tabchangSchool" lla="100.6899438 13.7386353" userotation="false">
            <a-entity fixedsize="20" billboard>
                <a-entity css-object="div: #schoolpin" scale="0.05 0.05 0.05" position="0 0 0"></a-entity>
                <a-entity css-object="div: #schooldiv" scale="0.02 0.02 0.02" position="0 3 0" showdistance="โรงเรียนสุเหร่าทับช้าง<br>Bangkok Thailand<br>It is "></a-entity>
            </a-entity>
        </ar-geopose>

    </ar-scene>
</body>

</html>